flowchart TB
    subgraph "Terraform Modules"
        A["🏗️ main.tf<br/>(Provider Config)"] 
        B["⚙️ variables.tf<br/>(Input Variables)"]
        C["📤 outputs.tf<br/>(Resource Outputs)"]
    end
    
    subgraph "Core Infrastructure"
        D["🔧 apis.tf<br/>(Google Cloud APIs)"] --> E["🔐 iam.tf<br/>(Service Accounts)"]
        E --> F["📨 pubsub.tf<br/>(Message Queuing)"]
        F --> G["🏢 bigquery.tf<br/>(Data Warehouse)"]
    end
    
    subgraph "Compute & Applications"
        H["⚡ cloud_functions.tf<br/>(Serverless Processing)"] 
        I["🏃 cloud_run.tf<br/>(Container Apps)"]
        J["🔄 workflows.tf<br/>(Orchestration)"]
        K["📦 artifact_registry.tf<br/>(Container Registry)"]
    end
    
    subgraph "Monitoring & Cost Control"
        L["📊 monitoring.tf<br/>(Alerts & Metrics)"]
        M["💰 budget.tf<br/>(Cost Management)"]
    end
    
    subgraph "Deployment Scripts"
        N["🚀 deploy.sh<br/>(One-command Deploy)"]
        O["🗄️ setup-remote-state.sh<br/>(State Management)"]
    end
    
    A --> D
    B --> D
    D --> H
    E --> H
    F --> H
    G --> H
    
    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e8
    style E fill:#fff8e1
    style F fill:#fce4ec
    style G fill:#e1f5fe
    style H fill:#ffebee
    style I fill:#f3e5f5
    style J fill:#fff3e0
    style K fill:#e8f5e8
    style L fill:#fff8e1
    style M fill:#fce4ec





